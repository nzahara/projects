{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\noorz\\\\Documents\\\\DB\\\\Repo\\\\db_project\\\\db_UI_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\noorz\\\\Documents\\\\DB\\\\Repo\\\\db_project\\\\db_UI_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport React from 'react';\nimport environment from '../environments/environment';\nimport axios from 'axios';\nimport RegisterDetails from '../Register/RegisterDetails';\n\nvar LoginService =\n/*#__PURE__*/\nfunction () {\n  function LoginService() {\n    var _this = this;\n\n    _classCallCheck(this, LoginService);\n\n    this.registerUserUrl = environment.JAVA_API_BASE_URL + '/register';\n    this.loginUserUrl = environment.JAVA_API_BASE_URL + '/login';\n\n    this.registerUserData = function (registerDetails) {\n      return axios.post(_this.registerUserUrl, registerDetails, {\n        headers: _this.headers\n      }).then(_this.extractData).catch(_this.handleError);\n    };\n\n    this.loginUser = function (userId, password) {\n      return axios.get(_this.loginUserUrl, {\n        headers: _this.headers,\n        params: {\n          'user_name': userId,\n          'password': password\n        }\n      }).then(_this.extractData).catch(_this.handleError);\n    };\n\n    this.headers = {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    };\n  }\n\n  _createClass(LoginService, [{\n    key: \"extractData\",\n    value: function extractData(res) {\n      return res.data;\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(response) {\n      return response.error.errors.errorMessage;\n    }\n  }]);\n\n  return LoginService;\n}();\n\nexport { LoginService as default };","map":{"version":3,"sources":["C:\\Users\\noorz\\Documents\\DB\\Repo\\db_project\\db_UI_React\\src\\Login\\LoginService.js"],"names":["React","environment","axios","RegisterDetails","LoginService","registerUserUrl","JAVA_API_BASE_URL","loginUserUrl","registerUserData","registerDetails","post","headers","then","extractData","catch","handleError","loginUser","userId","password","get","params","res","data","response","error","errors","errorMessage"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;;IAEqBC,Y;;;AAMnB,0BAAc;AAAA;;AAAA;;AAAA,SAJdC,eAIc,GAJIJ,WAAW,CAACK,iBAAZ,GAAgC,WAIpC;AAAA,SAHdC,YAGc,GAHCN,WAAW,CAACK,iBAAZ,GAAgC,QAGjC;;AAAA,SAQdE,gBARc,GAQK,UAACC,eAAD,EAAsC;AACvD,aAAOP,KAAK,CAACQ,IAAN,CAAW,KAAI,CAACL,eAAhB,EAAiCI,eAAjC,EAAkD;AACrDE,QAAAA,OAAO,EAAE,KAAI,CAACA;AADuC,OAAlD,EAGJC,IAHI,CAGC,KAAI,CAACC,WAHN,EAIJC,KAJI,CAIE,KAAI,CAACC,WAJP,CAAP;AAKD,KAda;;AAAA,SAgBdC,SAhBc,GAgBF,UAACC,MAAD,EAAiBC,QAAjB,EAAsC;AAChD,aAAOhB,KAAK,CAACiB,GAAN,CAAU,KAAI,CAACZ,YAAf,EAA6B;AAChCI,QAAAA,OAAO,EAAE,KAAI,CAACA,OADkB;AAEhCS,QAAAA,MAAM,EAAE;AACN,uBAAaH,MADP;AAEN,sBAAYC;AAFN;AAFwB,OAA7B,EAOJN,IAPI,CAOC,KAAI,CAACC,WAPN,EAQJC,KARI,CAQE,KAAI,CAACC,WARP,CAAP;AASD,KA1Ba;;AACZ,SAAKJ,OAAL,GAAe;AACb,sBAAgB,kBADH;AAEb,gBAAU,kBAFG;AAGb,qCAA+B;AAHlB,KAAf;AAKD;;;;gCAwBWU,G,EAAe;AACzB,aAAOA,GAAG,CAACC,IAAX;AACD;;;gCAEWC,Q,EAAe;AACzB,aAAOA,QAAQ,CAACC,KAAT,CAAeC,MAAf,CAAsBC,YAA7B;AACD;;;;;;SA1CkBtB,Y","sourcesContent":["import React from 'react';\r\nimport environment from '../environments/environment';\r\nimport axios from 'axios';\r\nimport RegisterDetails from '../Register/RegisterDetails';\r\n\r\nexport default class LoginService {\r\n\r\n  registerUserUrl = environment.JAVA_API_BASE_URL + '/register';\r\n  loginUserUrl = environment.JAVA_API_BASE_URL + '/login';\r\n  headers;\r\n\r\n  constructor() {\r\n    this.headers = {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json',\r\n      'Access-Control-Allow-Origin': '*'\r\n    };\r\n  }\r\n\r\n  registerUserData = (registerDetails: RegisterDetails) => {\r\n    return axios.post(this.registerUserUrl, registerDetails, {\r\n        headers: this.headers\r\n      })\r\n      .then(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  loginUser = (userId: number, password: string) => {\r\n    return axios.get(this.loginUserUrl, {\r\n        headers: this.headers,\r\n        params: {\r\n          'user_name': userId,\r\n          'password': password\r\n        }\r\n      })\r\n      .then(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n\r\n\r\n  extractData(res: Response) {\r\n    return res.data;\r\n  }\r\n\r\n  handleError(response: any) {\r\n    return response.error.errors.errorMessage;\r\n  }\r\n\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}